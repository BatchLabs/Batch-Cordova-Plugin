(()=>{"use strict";var __webpack_modules__={917:(t,e)=>{var n,a,o,i,r,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Internal=e.UserDataOperation=e.User=e.Inbox=e.Messaging=e.Push=e.Core=void 0,(s=e.Core||(e.Core={})).SetConfig="setConfig",s.Start="start",s.OptIn="optIn",s.OptOut="optOut",s.OptOutWipeData="optOutAndWipeData",(r=e.Push||(e.Push={})).GetLastKnownPushToken="push.getLastKnownPushToken",r.SetIOSNotifTypes="push.setIOSNotifTypes",r.SetAndroidNotifTypes="push.setAndroidNotifTypes",r.Register="push.register",r.DismissNotifications="push.dismissNotifications",r.ClearBadge="push.clearBadge",(i=e.Messaging||(e.Messaging={})).SetDoNotDisturbEnabled="messaging.setDoNotDisturbEnabled",i.ShowPendingMessage="messaging.showPendingMessage",(o=e.Inbox||(e.Inbox={})).Fetch="inbox.fetch",o.FetchForUserID="inbox.fetchForUserIdentifier",(a=e.User||(e.User={})).Edit="user.edit",a.TrackEvent="user.track.event",a.TrackLegacyEvent="user.track.legacy_event",a.TrackTransaction="user.track.transaction",a.TrackLocation="user.track.location",a.DataDebug="user.data.debug",a.GetInstallationID="user.getInstallationID",(n=e.UserDataOperation||(e.UserDataOperation={})).SetLanguage="SET_LANGUAGE",n.SetRegion="SET_REGION",n.SetIdentifier="SET_IDENTIFIER",n.SetAttribute="SET_ATTRIBUTE",n.RemoveAttribute="REMOVE_ATTRIBUTE",n.ClearAttribute="CLEAR_ATTRIBUTES",n.AddTag="ADD_TAG",n.RemoveTag="REMOVE_TAG",n.ClearTags="CLEAR_TAGS",n.ClearTagCollection="CLEAR_TAG_COLLECTION",(e.Internal||(e.Internal={})).SetupCallback="_setupCallback"},401:function(t,e,n){var a=this&&this.__spreadArray||function(t,e){for(var n=0,a=e.length,o=t.length;n<a;n++,o++)t[o]=e[n];return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(917),r=n(669),s=n(382),u=n(565),c=n(944),l=n(881),p=n(941),d=o(n(70)),h=function(){function t(){this.push=new l.PushModule,this.user=new p.UserModule,this.messaging=new c.MessagingModule,this.inbox=new u.InboxModule,this._config=null,this._eventEmitter=new r.EventEmitter}return t.prototype.on=function(t,e){this._eventEmitter.on(t,e)},t.prototype.off=function(t){this._eventEmitter.off(t)},t.prototype.setConfig=function(t){if("object"==typeof t){var e={androidAPIKey:null,canUseAdvertisingIdentifier:!0,iOSAPIKey:null};for(var n in t)e.hasOwnProperty(n)?e[n]=t[n]:this.log(!1,"Unknown key found in the config object : "+n);this._config=e}else s.writeBatchLog(!1,"Config must be an object.")},t.prototype.start=function(){if(null===this._config)return s.writeBatchLog(!1,"You must call setConfig before calling start."),this;var t=d.default.isCurrent(d.default.Android)?this._config.androidAPIKey:this._config.iOSAPIKey;"string"==typeof t?(s.sendToBridge(null,i.Core.SetConfig,[{APIKey:t,useAndroidID:!1,useIDFA:!0===this._config.canUseAdvertisingIdentifier}]),s.sendToBridge(null,i.Core.Start,null)):s.writeBatchLog(!1,"No API key was specified for the current platform.")},t.prototype.optIn=function(){s.sendToBridge(null,i.Core.OptIn,null)},t.prototype.optOut=function(){s.sendToBridge(null,i.Core.OptOut,null)},t.prototype.optOutAndWipeData=function(){s.sendToBridge(null,i.Core.OptOutWipeData,null)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.writeBatchLog.apply(void 0,a([t],e))},t}();e.default=h},379:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var a=n(565),o=n(881),i=function(){function t(){}return t.prototype.setDoNotDisturbEnabled=function(t){},t.prototype.showPendingMessage=function(){},t}(),r=function(){function t(){this.AndroidNotificationTypes=o.AndroidNotificationTypes,this.iOSNotificationTypes=o.iOSNotificationTypes}return t.prototype.registerForRemoteNotifications=function(){},t.prototype.setAndroidNotificationTypes=function(t){},t.prototype.setiOSNotificationTypes=function(t){},t.prototype.clearBadge=function(){},t.prototype.dismissNotifications=function(){},t.prototype.getLastKnownPushToken=function(t){},t}(),s=function(){function t(){this.eventData=c}return t.prototype.getInstallationID=function(t){},t.prototype.getEditor=function(){return new l},t.prototype.printDebugInformation=function(){},t.prototype.trackEvent=function(t,e,n){},t.prototype.trackTransaction=function(t,e){},t.prototype.trackLocation=function(t){},t}(),u=function(){function t(){this.NotificationSource=a.InboxNotificationSource}return t.prototype.fetchNotifications=function(t){},t.prototype.fetchNotificationsForUserIdentifier=function(t,e,n){},t}(),c=function(){function t(){}return t.prototype.addTag=function(t){return this},t.prototype.put=function(t,e){return this},t}(),l=function(){function t(){}return t.prototype.setLanguage=function(t){return this},t.prototype.setRegion=function(t){return this},t.prototype.setIdentifier=function(t){return this},t.prototype.setAttribute=function(t,e){return this},t.prototype.removeAttribute=function(t){return this},t.prototype.clearAttributes=function(){return this},t.prototype.addTag=function(t,e){return this},t.prototype.removeTag=function(t,e){return this},t.prototype.clearTags=function(){return this},t.prototype.clearTagCollection=function(t){return this},t.prototype.save=function(){return this},t}(),p=function(){function t(){this.push=new r,this.user=new s,this.messaging=new i,this.inbox=new u}return t.prototype.on=function(t,e){},t.prototype.off=function(t){},t.prototype.setConfig=function(t){},t.prototype.start=function(){console&&console.log&&console.log("Batch is not supported in this environement")},t.prototype.optIn=function(){},t.prototype.optOut=function(){},t.prototype.optOutAndWipeData=function(){},t}();e.default=p},929:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CallbackHandler=exports.CallbackAction=void 0;var actions_1=__webpack_require__(917),consts_1=__webpack_require__(312),helpers_1=__webpack_require__(382),CallbackAction;!function(t){t.Log="_log",t.Eval="_eval",t.DispatchPush="_dispatchPush",t.DispatchMessagingEvent="_dispatchMessagingEvent",t.OnBridgeFailure="onBridgeFailure"}(CallbackAction=exports.CallbackAction||(exports.CallbackAction={}));var CallbackHandler=function(){function CallbackHandler(){}return CallbackHandler.prototype.setup=function(){cordova.exec(this.handleCallback,(function(){}),consts_1.Consts.BatchPluginName,actions_1.Internal.SetupCallback,[{}])},CallbackHandler.prototype.handleCallback=function(callbackData){switch(callbackData.action!==CallbackAction.Log&&helpers_1.writeBatchLog(!0,"Got callback from Batch",callbackData),callbackData.action){case CallbackAction.DispatchPush:var pushPayload=callbackData.payload;for(var key in pushPayload)if(pushPayload.hasOwnProperty(key)){var value=pushPayload[key];if("string"==typeof value)try{pushPayload[key]=JSON.parse(value),"object"!=typeof pushPayload[key]&&(pushPayload[key]=value)}catch(t){}else"number"!=typeof value&&"boolean"!=typeof value||(pushPayload[key]=String(value))}var hasLandingMessage=!1;!0===callbackData.hasLandingMessage&&(hasLandingMessage=!0),cordova.fireDocumentEvent("batchPushReceived",{hasLandingMessage,payload:pushPayload});break;case CallbackAction.DispatchMessagingEvent:var lifecycleEventName=callbackData.lifecycleEvent,publicEventName=void 0;if("shown"==lifecycleEventName)publicEventName="batchMessageShown";else{if("closed"!=lifecycleEventName){helpers_1.writeBatchLog(!0,"Unknown messaging lifecycle event, can't forward",callbackData.lifecycleEvent);break}publicEventName="batchMessageClosed"}var payload={};helpers_1.isString(callbackData.messageIdentifier)&&(payload.messageIdentifier=callbackData.messageIdentifier),cordova.fireDocumentEvent(publicEventName,payload);break;case CallbackAction.Log:console&&console.log&&console.log(callbackData.message);break;case CallbackAction.Eval:eval(callbackData.command);break;case CallbackAction.OnBridgeFailure:helpers_1.writeBatchLog(!1,"Internal Bridge error",callbackData.result)}},CallbackHandler}();exports.CallbackHandler=CallbackHandler},312:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Consts=void 0,e.Consts={AttributeKeyRegexp:/^[a-zA-Z0-9_]{1,30}$/,AttributeStringMaxLength:64,BatchPluginName:"Batch",DevelopmentMode:!0,EventDataMaxTags:10,EventDataMaxValues:10,EventDataStringMaxLength:64},e.default=e.Consts},669:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;var a=n(382),o=function(){function t(){this._eventListeners={}}return t.prototype.on=function(t,e){return"string"!=typeof t?(a.writeBatchLog(!1,"Event name must be a string if supplied"),this):(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push(e),this)},t.prototype.off=function(t){return void 0===t?(this._eventListeners={},this):"string"!=typeof t?(a.writeBatchLog(!1,"Event name must be a string if supplied"),this):(this._eventListeners[t]=[],this)},t.prototype.emit=function(t,e){a.writeBatchLog(!0,"Calling back developer implementation - "+t,e),(this._eventListeners[t]||[]).forEach((function(n){n(t,e)}))},t}();e.EventEmitter=o},382:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBoolean=e.isNumber=e.isString=e.sendToBridge=e.writeBatchLog=void 0;var a=n(312);e.writeBatchLog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=["[Batch]"].concat(Array.prototype.slice.call(arguments,1));!0===a.Consts.DevelopmentMode&&!0===t?console&&console.debug&&console.debug.apply(console,o):!1===t&&console&&console.log&&console.log.apply(console,o)},e.sendToBridge=function(t,e,n){cordova.exec(t||function(){},(function(){}),a.Consts.BatchPluginName,"BA_"+e,null!=n?n:[{}])},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isNumber=function(t){return t instanceof Number||"number"==typeof t&&!isNaN(t)},e.isBoolean=function(t){return t instanceof Boolean||"boolean"==typeof t}},607:function(t,e,n){var a,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=o(n(401)),r=o(n(379)),s=n(929),u=o(n(70));u.default.isCurrent(u.default.iOS)||u.default.isCurrent(u.default.Android)?(a=new i.default,(new s.CallbackHandler).setup()):a=new r.default,t.exports=a},565:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InboxModule=e.InboxNotificationSource=void 0;var a,o=n(917),i=n(382);!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CAMPAIGN=1]="CAMPAIGN",t[t.TRANSACTIONAL=2]="TRANSACTIONAL"}(a=e.InboxNotificationSource||(e.InboxNotificationSource={}));var r=function(){function t(){this.NotificationSource=a}return t.prototype.fetchNotifications=function(t){var e=this;i.sendToBridge((function(n){e.handleFetchCallback(n,t)}),o.Inbox.Fetch,null)},t.prototype.fetchNotificationsForUserIdentifier=function(t,e,n){var a=this;i.sendToBridge((function(t){a.handleFetchCallback(t,n)}),o.Inbox.FetchForUserID,[{id:t,auth:e}])},t.prototype.handleFetchCallback=function(t,e){var n,a=this;if("function"!=typeof e)throw new Error("callback is a required parameter, and must be a function");try{n=JSON.parse(t)}catch(t){return void e(new Error("Internal bridge error"),void 0)}if(i.isString(n.error))e(new Error(n.error));else{var o=n.notifications;if(Array.isArray(o)){var r=[];o.forEach((function(t){try{r.push(a.parseBridgeNotification(t))}catch(t){}})),e(void 0,r)}else e(new Error("Internal error: malformed notifications"))}},t.prototype.parseBridgeNotification=function(t){if("object"!=typeof t)throw new Error("Raw notification is not an object");var e=t.body;if(!i.isString(t.body))throw new Error("An Inbox Notification must at least have a body");var n=t.identifier;if(!i.isString(t.identifier))throw new Error("An Inbox Notification must at least have an identifier");var o=t.date;if(!i.isNumber(o))throw new Error("An Inbox Notification must at least have a date");var r=t.is_unread;if("boolean"!=typeof r)throw new Error("An Inbox Notification must at least have a read flag");var s=t.source;if(!i.isNumber(s))throw new Error("An Inbox Notification must at least have a source");s!==a.CAMPAIGN&&s!==a.TRANSACTIONAL&&s!==a.UNKNOWN&&(s=a.UNKNOWN);var u={body:e,date:new Date(o),identifier:n,isUnread:r,payload:{},source:s};return i.isString(t.ios_attachment_url)&&(u.iOSAttachmentURL=t.ios_attachment_url),"object"==typeof t.payload&&(u.payload=t.payload),i.isString(t.title)&&(u.title=t.title),u},t}();e.InboxModule=r},944:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessagingModule=void 0;var a=n(917),o=n(382),i=function(){function t(){}return t.prototype.setDoNotDisturbEnabled=function(t){"boolean"==typeof t?o.sendToBridge(null,a.Messaging.SetDoNotDisturbEnabled,[{enabled:t}]):o.writeBatchLog(!1,"Batch.Messaging - setDoNotDisturbEnabled: parameter must be a boolean")},t.prototype.showPendingMessage=function(){o.sendToBridge(null,a.Messaging.ShowPendingMessage,null)},t}();e.MessagingModule=i},881:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PushModule=e.iOSNotificationTypes=e.AndroidNotificationTypes=void 0;var a,o,i=n(917),r=n(382);!function(t){t[t.NONE=0]="NONE",t[t.SOUND=1]="SOUND",t[t.VIBRATE=2]="VIBRATE",t[t.LIGHTS=4]="LIGHTS",t[t.ALERT=8]="ALERT"}(a=e.AndroidNotificationTypes||(e.AndroidNotificationTypes={})),function(t){t[t.NONE=0]="NONE",t[t.BADGE=1]="BADGE",t[t.SOUND=2]="SOUND",t[t.ALERT=4]="ALERT"}(o=e.iOSNotificationTypes||(e.iOSNotificationTypes={}));var s=function(){function t(){this.AndroidNotificationTypes=a,this.iOSNotificationTypes=o}return t.prototype.registerForRemoteNotifications=function(){r.sendToBridge(null,i.Push.Register,null)},t.prototype.setAndroidNotificationTypes=function(t){"number"!=typeof t?r.writeBatchLog(!1,"notifTypes must be a number (of the AndroidNotificationTypes enum)"):r.sendToBridge(null,i.Push.SetAndroidNotifTypes,[{notifTypes:t}])},t.prototype.setiOSNotificationTypes=function(t){"number"==typeof t?r.sendToBridge(null,i.Push.SetIOSNotifTypes,[{notifTypes:t}]):r.writeBatchLog(!1,"notifTypes must be a number (of the iOSNotificationTypes enum)")},t.prototype.clearBadge=function(){r.sendToBridge(null,i.Push.ClearBadge,null)},t.prototype.dismissNotifications=function(){r.sendToBridge(null,i.Push.DismissNotifications,null)},t.prototype.getLastKnownPushToken=function(t){r.sendToBridge(t,i.Push.GetLastKnownPushToken,null)},t}();e.PushModule=s},941:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserModule=void 0;var o=n(917),i=n(382),r=a(n(312)),s=n(717),u=n(785),c=function(){function t(){this.eventData=s.BatchEventData}return t.prototype.getInstallationID=function(t){i.sendToBridge(t,o.User.GetInstallationID,null)},t.prototype.getEditor=function(){return new u.BatchUserDataEditor(!0)},t.prototype.printDebugInformation=function(){i.sendToBridge(null,o.User.DataDebug,null)},t.prototype.trackEvent=function(t,e,n){if(i.isString(t)&&r.default.AttributeKeyRegexp.test(t||"")){var a={name:t};if(i.isString(e)){if(0===e.length||e.length>r.default.AttributeStringMaxLength)return void i.writeBatchLog(!1,"BatchUserDataEditor - Label can't be longer than "+r.default.AttributeStringMaxLength+" characters. Ignoring event '"+t+"'.");a.label=e}else if(null!=e&&void 0!==e)return void i.writeBatchLog(!1,"BatchUser - If supplied, label argument must be a string. Ignoring event '"+t+"'.");if(n instanceof s.BatchEventData)a.event_data=n._toInternalRepresentation();else if("object"==typeof n)return a.data=n,void i.sendToBridge(null,o.User.TrackLegacyEvent,[a]);i.sendToBridge(null,o.User.TrackEvent,[a])}else i.writeBatchLog(!1,"BatchUser - Invalid event name. Please make sure that the name is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring event '"+t+"'")},t.prototype.trackTransaction=function(t,e){if(void 0!==t)if(i.isNumber(t)&&!isNaN(t)){var n={amount:t};"object"==typeof e&&(n.data=e),i.sendToBridge(null,o.User.TrackTransaction,[n])}else i.writeBatchLog(!1,"BatchUser - Amount must be a valid number. Ignoring transaction.");else i.writeBatchLog(!1,"BatchUser - Amount must be a valid number. Ignoring transaction.")},t.prototype.trackLocation=function(t){"object"==typeof t?"number"!=typeof t.latitude||isNaN(t.latitude)?i.writeBatchLog(!1,"BatchUser - Invalid latitude. Skipping."):"number"!=typeof t.longitude||isNaN(t.longitude)?i.writeBatchLog(!1,"BatchUser - Invalid longitude. Skipping."):!t.precision||"number"==typeof t.precision&&!isNaN(t.precision)?!t.date||t.date instanceof Date?i.sendToBridge(null,o.User.TrackLocation,[{date:t.date?t.date.getTime():void 0,latitude:t.latitude,longitude:t.longitude,precision:t.precision}]):i.writeBatchLog(!1,"BatchUser - Invalid date. Skipping."):i.writeBatchLog(!1,"BatchUser - Invalid precision. Skipping."):i.writeBatchLog(!1,"BatchUser - Invalid trackLocation argument. Skipping.")},t}();e.UserModule=c},717:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BatchEventData=e.TypedEventAttributeType=void 0;var o,i=a(n(312)),r=n(382);!function(t){t.String="s",t.Boolean="b",t.Integer="i",t.Float="f"}(o=e.TypedEventAttributeType||(e.TypedEventAttributeType={}));var s=function(){function t(){this._tags={},this._attributes={}}return t.prototype.addTag=function(t){return void 0===t?(r.writeBatchLog(!1,"BatchEventData - A tag is required"),this):r.isString(t)?0===t.length||t.length>i.default.EventDataStringMaxLength?(r.writeBatchLog(!1,"BatchEventData - Tags can't be empty or longer than "+i.default.EventDataStringMaxLength+" characters. Ignoring tag '"+t+"'."),this):Object.keys(this._tags).length>=i.default.EventDataMaxTags?(r.writeBatchLog(!1,"BatchEventData - Event data cannot hold more than "+i.default.EventDataMaxTags+" tags. Ignoring tag: '"+t+"'"),this):(this._tags[t.toLowerCase()]=!0,this):(r.writeBatchLog(!1,"BatchEventData - Tag argument must be a string"),this)},t.prototype.put=function(t,e){if(!r.isString(t))return r.writeBatchLog(!1,"BatchEventData - Key must be a string"),this;if(!i.default.AttributeKeyRegexp.test(t||""))return r.writeBatchLog(!1,"BatchEventData - Invalid key. Please make sure that the key is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring attribute '"+t+"'"),this;if(null==e)return r.writeBatchLog(!1,"BatchEventData - Value cannot be undefined or null"),this;if(t=t.toLowerCase(),Object.keys(this._tags).length>=i.default.EventDataMaxValues&&!this._attributes.hasOwnProperty(t))return r.writeBatchLog(!1,"BatchEventData - Event data cannot hold more than "+i.default.EventDataMaxValues+" attributes. Ignoring attribute: '"+t+"'"),this;var n;if(r.isString(e))n={type:o.String,value:e};else if(r.isNumber(e))n={type:e%1==0?o.Integer:o.Float,value:e};else{if(!r.isBoolean(e))return r.writeBatchLog(!1,"BatchEventData - Invalid attribute value type. Must be a string, number or boolean"),this;n={type:o.Boolean,value:e}}return n&&(this._attributes[t]=n),this},t.prototype._toInternalRepresentation=function(){return{attributes:this._attributes,tags:Object.keys(this._tags)}},t}();e.BatchEventData=s},785:function(t,e,n){var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BatchUserDataEditor=void 0;var i=n(917),r=o(n(312)),s=n(382),u=function(){function t(t){if(!0!==t)throw new Error("Do not instanciate BatchUserDataEditor yourself: use batch.user.getEditor()");this._operationQueue=[]}return t.prototype.setLanguage=function(t){return"string"!=typeof t&&null!==t?(s.writeBatchLog(!1,"BatchUserDataEditor - Language must be a string or null"),this):(this._enqueueOperation(i.UserDataOperation.SetLanguage,{value:t}),this)},t.prototype.setRegion=function(t){return"string"!=typeof t&&null!==t?(s.writeBatchLog(!1,"BatchUserDataEditor - Region must be a string or null"),this):(this._enqueueOperation(i.UserDataOperation.SetRegion,{value:t}),this)},t.prototype.setIdentifier=function(t){return"string"!=typeof t&&null!==t?(s.writeBatchLog(!1,"BatchUserDataEditor - Identifier must be a string or null"),this):(this._enqueueOperation(i.UserDataOperation.SetIdentifier,{value:t}),this)},t.prototype.setAttribute=function(t,e){if(!r.default.AttributeKeyRegexp.test(t||""))return s.writeBatchLog(!1,"BatchUserDataEditor - Invalid key. Please make sure that the key is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring attribute '"+t+"'"),this;if(null==t)return s.writeBatchLog(!1,"BatchUserDataEditor - Value argument cannot be undefined or null"),this;if(void 0===e)return s.writeBatchLog(!1,"BatchUserDataEditor - A value is required"),this;var n={value:e,key:t,type:""};if(e instanceof Date)n.value=e.getTime(),n.type="date";else{if("number"==typeof e&&isNaN(e))return s.writeBatchLog(!1,"BatchUserDataEditor - Value cannot be NaN"),this;if(s.isNumber(e))n.type=e%1==0?"integer":"float";else if(s.isString(e)){if(0===e.length||e.length>r.default.AttributeStringMaxLength)return s.writeBatchLog(!1,"BatchUserDataEditor - String attributes can't be empty or longer than "+r.default.AttributeStringMaxLength+" characters. Ignoring attribute '"+t+"'."),this;n.type="string"}else{if(!(e instanceof Boolean||"boolean"==typeof e))return s.writeBatchLog(!1,"BatchUserDataEditor - Value argument must be one of these types: number, string, boolean, date"),this;n.type="boolean"}}return this._enqueueOperation(i.UserDataOperation.SetAttribute,n),this},t.prototype.removeAttribute=function(t){return r.default.AttributeKeyRegexp.test(t||"")?(this._enqueueOperation(i.UserDataOperation.RemoveAttribute,{key:t}),this):(s.writeBatchLog(!1,"BatchUserDataEditor - Invalid key. Please make sure that the key is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring attribute '"+t+"'"),this)},t.prototype.clearAttributes=function(){return this._enqueueOperation(i.UserDataOperation.ClearAttribute,{}),this},t.prototype.addTag=function(t,e){return s.isString(t)?r.default.AttributeKeyRegexp.test(t||"")?void 0===e?(s.writeBatchLog(!1,"BatchUserDataEditor - A tag is required"),this):s.isString(e)?0===e.length||e.length>r.default.AttributeStringMaxLength?(s.writeBatchLog(!1,"BatchUserDataEditor - Tags can't be empty or longer than "+r.default.AttributeStringMaxLength+" characters. Ignoring tag '"+e+"'."),this):(this._enqueueOperation(i.UserDataOperation.AddTag,{collection:t,tag:e}),this):(s.writeBatchLog(!1,"BatchUserDataEditor - Tag argument must be a string"),this):(s.writeBatchLog(!1,"BatchUserDataEditor - Invalid collection. Please make sure that the collection is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring collection '"+t+"'"),this):(s.writeBatchLog(!1,"BatchUserDataEditor - Collection argument must be a string"),this)},t.prototype.removeTag=function(t,e){if("string"!=typeof t&&!(t instanceof String))return s.writeBatchLog(!1,"BatchUserDataEditor - Collection argument must be a string"),this;if(!r.default.AttributeKeyRegexp.test(t||""))return s.writeBatchLog(!1,"BatchUserDataEditor - Invalid collection. Please make sure that the collection is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring collection '"+t+"'"),this;if(void 0===e)return s.writeBatchLog(!1,"BatchUserDataEditor - A tag is required"),this;if(s.isString(e)){if(0===e.length||e.length>r.default.AttributeStringMaxLength)return s.writeBatchLog(!1,"BatchUserDataEditor - Tags can't be empty or longer than "+r.default.AttributeStringMaxLength+" characters. Ignoring tag '"+e+"'."),this}else s.writeBatchLog(!1,"BatchUserDataEditor - Tag argument must be a string");return this._enqueueOperation(i.UserDataOperation.RemoveTag,{collection:t,tag:e}),this},t.prototype.clearTags=function(){return this._enqueueOperation(i.UserDataOperation.ClearTags,{}),this},t.prototype.clearTagCollection=function(t){return"string"!=typeof t?(s.writeBatchLog(!1,"BatchUserDataEditor - Collection argument must be a string"),this):r.default.AttributeKeyRegexp.test(t||"")?(this._enqueueOperation(i.UserDataOperation.ClearTagCollection,{collection:t}),this):(s.writeBatchLog(!1,"BatchUserDataEditor - Invalid collection. Please make sure that the collection is made of letters, underscores and numbers only (a-zA-Z0-9_). It also can't be longer than 30 characters. Ignoring collection '"+t+"'"),this)},t.prototype.save=function(){return s.sendToBridge(null,i.User.Edit,[{operations:this._operationQueue}]),this._operationQueue=[],this},t.prototype._enqueueOperation=function(t,e){var n=a({operation:t},e);this._operationQueue.push(n)},t}();e.BatchUserDataEditor=u},70:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={Android:"android",iOS:"ios",isCurrent:function(t){return cordova.platformId.toLowerCase()===t}};e.default=n}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(607),__webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();